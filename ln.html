<!DOCTYPE html>
<html lang="en">

<head>
    <meta charSet="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/_next/static/css/630cab84c9dca9a7.css" crossorigin="" data-precedence="next" />
    <link rel="stylesheet" href="/_next/static/css/46109fd438c24886.css" crossorigin="" data-precedence="next" />
    <link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-64f51d1d3b76f242.js"
        crossorigin="" />
    <script src="/_next/static/chunks/fd9d1056-4f30cdf3f2a4adef.js" async="" crossorigin=""></script>
    <script src="/_next/static/chunks/938-3462f1a1ea7c2bdb.js" async="" crossorigin=""></script>
    <script src="/_next/static/chunks/main-app-a571cc6b5be2a21e.js" async="" crossorigin=""></script>
    <script src="/_next/static/chunks/app/live-number/page-4bfe892672b5f45f.js" async=""></script>
    <title>JAGUAR POOLS</title>
    <meta name="description" content="Generated by create next app" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16" />
    <script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
</head>

<body class="__className_e66fe9">
    <main class="min-h-screen flex justify-center bg-image py-3 bg-slate-800">
        <div class="bg-slate-900 rounded-xl" style="max-width:700px;width:100%;padding:18px"><button type="button"
                class="border-0 btn-components-red text-white p-2 px-3 rounded mb-3"
                onclick="window.close()">Back</button>
            <div class="flex justify-between">
                <h4 class="text-white">Live Number Result</h4>
                <select title="Search" class="rounded mb-3 p-2" name="serc" id="search">
                    <option value="fast">Fast Number</option>
                    <option value="full">Bet Full</option>
                </select>
            </div>
            <div class="table-responsive" style="height:86vh;overflow:auto">
                <table class="table">
                    <thead class="table-warning">
                        <tr>
                            <th>Period</th>
                            <th>Number</th>
                            <th>Date</th>
                            <th>Type</th>
                        </tr>
                    </thead>
                    <tbody id="table"></tbody>
                </table>
            </div>
        </div>
    </main>
    <script>
        const socket = io('http://localhost:2700')
        socket.on('data', (e) => {
            document.getElementById('table').innerHTML = e
        })
        socket.on('error', (e) => {
            document.getElementById('table').innerHTML = `<p class="text-white">${e}</p>`
            // location.href = '/'
        })

        document.getElementById('search').addEventListener('change', function (e) {
            socket.emit('search', {type: this.value, c: getCookie('X-JAGUAR-TOKEN')})
        })
        socket.emit('search', {type: 'fast', c: getCookie('X-JAGUAR-TOKEN')})

        function getCookie(cookieName) {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                if (cookie.startsWith(cookieName + '=')) {
                    return cookie.substring(cookieName.length + 1);
                }
            }
            return null;
        }

    </script>
</body>

</html>